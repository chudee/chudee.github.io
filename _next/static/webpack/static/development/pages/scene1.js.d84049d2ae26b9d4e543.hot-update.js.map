{"version":3,"file":"static/webpack/static/development/pages/scene1.js.d84049d2ae26b9d4e543.hot-update.js","sources":["webpack:///./pages/scene1.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useRouter } from 'next/router';\n\nconst NEXT_PAGE = 2800;\nconst PERSPECTIVE = -2160;\nconst DIVSION = 15;\n\nconst Scene1: React.FC = () => {\n  const [scrollTop, setScrollTop] = useState(0);\n  const router = useRouter();\n  const ref: React.Ref<HTMLDivElement> = useRef(null);\n\n  useEffect(() => {\n    scroll();\n    return;\n  }, []);\n\n  useEffect(() => {\n    ref.current && ref.current.setAttribute(\n      'style',\n      `transform: translate3d(0, ${scrollTop / DIVSION}px, ${PERSPECTIVE + scrollTop}px)`\n    );\n\n    if(scrollTop >= NEXT_PAGE) {\n      router.push('/scene2');\n    }\n\n    return;\n  }, [scrollTop]);\n\n  const scroll = () => {\n    document.addEventListener('scroll', function (event: Event) {\n      event.preventDefault();\n      setScrollTop(document.scrollingElement ? document.scrollingElement.scrollTop : 0);\n    }, true);\n  };\n\n  return (\n    <main className='Scene1'>\n      <div className='scroll'>\n        <article ref={ref}  className='wrapper'>\n          <div className='background'/>\n        </article>\n      </div>\n\n\n      <style jsx>{`\n        .Scene1 {\n          display: block;\n          position: absolute;\n          width: 100%;\n          height: 4000px;\n          overflow:auto;\n        }\n        .scroll {\n          position: fixed;\n          width: 1920px;\n          height: 1080px;\n          left: 50%;\n          top: 50%;\n          transform: translate(-50%, -50%);\n          perspective: 2160px;\n          transition: all 10s;\n        }\n        .wrapper {\n          width: 1920px;\n          height: 1080px;\n          position: absolute;\n          transform: translate3d(0, 0, -2160px);\n          top: 0;\n          left: 0;\n          background-size: cover;\n        }\n        .background {\n          position: absolute;\n          top: -50%;\n          left: -50%;\n          width: 3840px;\n          height: 2160px;\n          background-image: url('/assets/imgs/intro/intro3840.jpg');\n          background-position: center;\n          background-repeat: no-repeat;\n          background-size: contain;\n        }\n      `}</style>\n    </main>\n  )\n};\n\nexport default Scene1;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAiDA;AACA;AACA;;;;A","sourceRoot":""}